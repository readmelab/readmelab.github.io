<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‚˜ë¥¼ì½ë‹¤ ì—°êµ¬ì†Œ | ìš´ëª… ë³´ì¦ì„œ</title>
    <meta property="og:title" content="ë‚˜ë¥¼ì½ë‹¤ ì—°êµ¬ì†Œ â€” ìš´ëª… ë¶„ì„ ê²°ê³¼">
    <meta property="og:description" content="ë‹¹ì‹ ë§Œì„ ìœ„í•œ ì‚¬ì£¼ & MBTI ë§ì¶¤ ìš´ëª… ë¶„ì„ì´ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.">
    <meta property="og:image" content="https://readmelab.github.io/og-image.png">
    <meta property="og:type" content="website">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;700;900&family=Noto+Sans+KR:wght@300;400;500;700&display=swap');
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background-color: #0a0a14; color: #f5f0e8; font-family: 'Noto Sans KR', sans-serif; min-height: 100vh; display: flex; justify-content: center; align-items: center; padding: 20px; overflow-x: hidden; }
        .container { max-width: 480px; width: 100%; text-align: center; }

        /* ë¡œë”© & ì—ëŸ¬ */
        .loading { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 60vh; }
        .loading .spinner { width: 40px; height: 40px; border: 2px solid #c9a84c33; border-top: 2px solid #c9a84c; border-radius: 50%; animation: spin 1s linear infinite; margin-bottom: 20px; }
        @keyframes spin { to { transform: rotate(360deg); } }
        .loading p { color: #8a7a5a; font-size: 14px; }
        .error { display: none; min-height: 60vh; flex-direction: column; align-items: center; justify-content: center; }
        .error h2 { font-family: 'Noto Serif KR', serif; color: #c9a84c; font-size: 20px; margin-bottom: 12px; }
        .error p { color: #8a7a5a; font-size: 14px; }

        /* â”€â”€ ì§„ì… í™”ë©´ â”€â”€ */
        .intro { display: none; flex-direction: column; align-items: center; justify-content: center; min-height: 80vh; position: relative; }
        .intro-bg { position: absolute; top: 0; left: 0; right: 0; bottom: 0; overflow: hidden; pointer-events: none; }
        .intro-glow { position: absolute; top: 50%; left: 50%; width: 300px; height: 300px; transform: translate(-50%, -50%); background: radial-gradient(circle, rgba(201,168,76,0.15) 0%, rgba(201,168,76,0.05) 40%, transparent 70%); border-radius: 50%; animation: glowPulse 3s ease-in-out infinite; }
        @keyframes glowPulse { 0%,100% { transform: translate(-50%,-50%) scale(1); opacity: 0.6; } 50% { transform: translate(-50%,-50%) scale(1.3); opacity: 1; } }
        .intro-particles { position: absolute; top: 0; left: 0; right: 0; bottom: 0; }
        .particle { position: absolute; width: 2px; height: 2px; background: #c9a84c; border-radius: 50%; opacity: 0; animation: particleFloat 4s ease-in-out infinite; }
        .particle:nth-child(1) { left: 20%; top: 30%; animation-delay: 0s; }
        .particle:nth-child(2) { left: 70%; top: 20%; animation-delay: 0.5s; }
        .particle:nth-child(3) { left: 40%; top: 60%; animation-delay: 1s; }
        .particle:nth-child(4) { left: 80%; top: 50%; animation-delay: 1.5s; }
        .particle:nth-child(5) { left: 15%; top: 70%; animation-delay: 2s; }
        .particle:nth-child(6) { left: 60%; top: 80%; animation-delay: 2.5s; }
        .particle:nth-child(7) { left: 50%; top: 15%; animation-delay: 0.8s; }
        .particle:nth-child(8) { left: 30%; top: 45%; animation-delay: 1.8s; }
        @keyframes particleFloat { 0% { opacity: 0; transform: translateY(0) scale(1); } 30% { opacity: 0.8; } 70% { opacity: 0.6; } 100% { opacity: 0; transform: translateY(-40px) scale(0.5); } }

        .intro-content { position: relative; z-index: 1; }
        .intro-line { width: 40px; height: 1px; background: linear-gradient(90deg, transparent, #c9a84c, transparent); margin: 0 auto 24px; opacity: 0; animation: introFadeIn 1s ease forwards 0.2s; }
        .intro-brand { font-family: 'Noto Serif KR', serif; font-size: 13px; color: #c9a84c; letter-spacing: 6px; margin-bottom: 20px; opacity: 0; animation: introFadeIn 1s ease forwards 0.4s; }
        .intro-symbol { font-size: 20px; color: #c9a84c; margin-bottom: 24px; opacity: 0; animation: introSymbol 2s ease forwards 0.6s; text-shadow: 0 0 40px rgba(201,168,76,0.6), 0 0 80px rgba(201,168,76,0.3); }
        @keyframes introSymbol { 0% { opacity: 0; transform: scale(0.5) rotate(0deg); } 50% { opacity: 1; transform: scale(1.2) rotate(180deg); } 100% { opacity: 1; transform: scale(1) rotate(360deg); } }
        .intro-title { font-family: 'Noto Serif KR', serif; font-size: 14px; color: #8a7a5a; letter-spacing: 2px; margin-bottom: 40px; opacity: 0; animation: introFadeIn 1s ease forwards 0.9s; line-height: 1.8; }
        .intro-sore { font-family: 'Noto Serif KR', serif; font-size: 22px; color: #e8c44c; font-style: italic; letter-spacing: 2px; margin-bottom: 32px; opacity: 0; animation: introFadeIn 1.2s ease forwards 1.1s; text-shadow: 0 0 30px rgba(232,196,76,0.4), 0 0 60px rgba(232,196,76,0.15); line-height: 1.8; }
        .intro-btn { display: inline-block; padding: 16px 48px; border: 1px solid #c9a84c44; border-radius: 4px; background: transparent; color: #c9a84c; font-family: 'Noto Serif KR', serif; font-size: 15px; letter-spacing: 3px; cursor: pointer; transition: all 0.4s ease; opacity: 0; animation: introFadeIn 1s ease forwards 1.2s; position: relative; overflow: hidden; }
        .intro-btn::before { content: ''; position: absolute; top: 50%; left: 50%; width: 0; height: 0; background: rgba(201,168,76,0.1); border-radius: 50%; transform: translate(-50%,-50%); transition: all 0.6s ease; }
        .intro-btn:hover { border-color: #c9a84c; box-shadow: 0 0 30px rgba(201,168,76,0.2), inset 0 0 30px rgba(201,168,76,0.05); }
        .intro-btn:hover::before { width: 300px; height: 300px; }
        .intro-line-bottom { width: 40px; height: 1px; background: linear-gradient(90deg, transparent, #c9a84c33, transparent); margin: 40px auto 0; opacity: 0; animation: introFadeIn 1s ease forwards 1.4s; }
        @keyframes introFadeIn { to { opacity: 1; } }

        /* ì „í™˜ ì• ë‹ˆë©”ì´ì…˜ */
        .intro.fade-out { animation: fadeOut 1s ease forwards; }
        @keyframes fadeOut { to { opacity: 0; transform: scale(0.95); } }
        .certificate { display: none; opacity: 0; }
        .certificate.fade-in { animation: certFadeIn 1.5s ease forwards; }
        @keyframes certFadeIn { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        /* â”€â”€ ë³´ì¦ì„œ â”€â”€ */
        .top-ornament { display: flex; align-items: center; justify-content: center; margin-bottom: 40px; gap: 12px; }
        .top-ornament .line { height: 1px; width: 60px; background: linear-gradient(90deg, transparent, #c9a84c, transparent); }
        .top-ornament .diamond { color: #c9a84c; font-size: 10px; }
        .brand { font-family: 'Noto Serif KR', serif; font-size: 13px; color: #c9a84c; letter-spacing: 6px; margin-bottom: 8px; }
        .cert-title { font-family: 'Noto Serif KR', serif; font-size: 15px; color: #8a7a5a; letter-spacing: 3px; margin-bottom: 32px; }
        .client-name { font-family: 'Noto Serif KR', serif; font-size: 36px; font-weight: 900; color: #c9a84c; margin-bottom: 4px; text-shadow: 0 0 20px rgba(201,168,76,0.3); }
        .client-name-sub { font-family: 'Noto Serif KR', serif; font-size: 20px; font-weight: 700; color: #a09060; margin-bottom: 8px; display: none; }
        .name-divider { display: none; align-items: center; justify-content: center; gap: 10px; margin: 8px 0; }
        .name-divider .line { width: 30px; height: 1px; background: #c9a84c44; }
        .name-divider .and { color: #c9a84c88; font-size: 13px; font-family: 'Noto Serif KR', serif; }
        .honorific { font-size: 16px; color: #a09880; margin-bottom: 32px; }
        .divider { height: 1px; background: linear-gradient(90deg, transparent, #c9a84c33, #c9a84c, #c9a84c33, transparent); margin: 24px 0; }
        .message { font-size: 14px; color: #a09880; line-height: 1.8; margin-bottom: 36px; font-weight: 300; }
        .sore-line { font-family: 'Noto Serif KR', serif; font-size: 20px; color: #c9a84c; font-weight: 700; line-height: 2.2; letter-spacing: 1px; text-shadow: 0 0 30px rgba(201,168,76,0.2); }
        .product-tag { display: inline-block; padding: 4px 16px; border: 1px solid #c9a84c33; border-radius: 20px; font-size: 12px; color: #c9a84c; margin-bottom: 24px; letter-spacing: 1px; }

        /* ë²„íŠ¼ & í”Œë ˆì´ì–´ */
        .buttons { display: flex; flex-direction: column; gap: 0; margin-bottom: 16px; }
        .btn-item { margin-bottom: 12px; }
        .btn { display: none; align-items: center; justify-content: center; gap: 10px; padding: 16px 24px; border: 1px solid #c9a84c44; border-radius: 8px; background: linear-gradient(135deg, #1a1a2e, #16162a); color: #e8dcc8; text-decoration: none; font-size: 15px; font-weight: 500; transition: all 0.3s ease; letter-spacing: 1px; cursor: pointer; width: 100%; }
        .btn.active { display: flex; }
        .btn.playing { border-color: #c9a84c; box-shadow: 0 0 20px rgba(201,168,76,0.2); }
        .btn:hover { background: linear-gradient(135deg, #2a2a3e, #20203a); border-color: #c9a84c88; box-shadow: 0 0 20px rgba(201,168,76,0.15); transform: translateY(-1px); }
        .btn .icon { font-size: 18px; }
        .btn.expanded { border-radius: 8px 8px 0 0; border-bottom-color: transparent; }

        .player-wrap { display: none; border: 1px solid #c9a84c33; border-top: none; border-radius: 0 0 8px 8px; background: linear-gradient(135deg, #12121f, #0e0e1a); padding: 20px 16px; margin-top: -1px; }
        .player-wrap.open { display: block; }
        .player-visual { display: flex; align-items: center; gap: 14px; margin-bottom: 16px; }
        .player-icon-wrap { width: 52px; height: 52px; border-radius: 50%; border: 1px solid #c9a84c44; display: flex; align-items: center; justify-content: center; font-size: 24px; flex-shrink: 0; background: #c9a84c11; }
        .player-info { text-align: left; }
        .player-subtitle { font-size: 11px; color: #8a7a5a; letter-spacing: 1px; margin-bottom: 2px; }
        .player-title { font-size: 14px; color: #e8dcc8; font-weight: 500; }
        .player-controls { display: flex; align-items: center; gap: 12px; margin-bottom: 4px; }
        .player-play-btn { width: 36px; height: 36px; border-radius: 50%; border: 1px solid #c9a84c66; background: transparent; color: #c9a84c; font-size: 14px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s; flex-shrink: 0; }
        .player-play-btn:hover { background: #c9a84c22; border-color: #c9a84c; }
        .player-progress-wrap { flex: 1; }
        .player-progress { width: 100%; height: 4px; border-radius: 2px; appearance: none; -webkit-appearance: none; outline: none; cursor: pointer; background: #c9a84c22; }
        .player-progress::-webkit-slider-runnable-track { height: 4px; border-radius: 2px; }
        .player-progress::-webkit-slider-thumb { -webkit-appearance: none; width: 12px; height: 12px; border-radius: 50%; background: #c9a84c; margin-top: -4px; cursor: pointer; }
        .player-progress::-moz-range-track { height: 4px; border-radius: 2px; background: #c9a84c22; }
        .player-progress::-moz-range-thumb { width: 12px; height: 12px; border-radius: 50%; background: #c9a84c; cursor: pointer; border: none; }
        .player-time { display: flex; justify-content: space-between; font-size: 10px; color: #6a6050; margin-top: 4px; }
        .player-bottom { display: flex; justify-content: center; margin-top: 12px; }
        .player-desc { font-size: 12px; color: #8a7a5a; font-style: italic; line-height: 1.6; margin-top: 8px; padding: 8px 12px; border-left: 2px solid #c9a84c33; display: none; }
        .player-download { display: inline-flex; align-items: center; gap: 6px; padding: 6px 16px; border: 1px solid #c9a84c33; border-radius: 20px; background: transparent; color: #8a7a5a; font-size: 11px; text-decoration: none; transition: all 0.2s; letter-spacing: 1px; }
        .player-download:hover { color: #c9a84c; border-color: #c9a84c66; }
        .player-loading { text-align: center; color: #8a7a5a; font-size: 12px; padding: 10px 0; display: none; }
        .player-loading .mini-spinner { display: inline-block; width: 14px; height: 14px; border: 2px solid #c9a84c33; border-top: 2px solid #c9a84c; border-radius: 50%; animation: spin 1s linear infinite; margin-right: 6px; vertical-align: middle; }

        /* ë°°ê²½ìŒì•… ë°” */
        .bgm-bar { display: none; position: fixed; bottom: 0; left: 0; right: 0; background: linear-gradient(135deg, #12121f, #0e0e1a); border-top: 1px solid #c9a84c33; padding: 10px 16px; z-index: 9998; }
        .bgm-bar.active { display: flex; align-items: center; gap: 12px; }
        .bgm-bar-info { flex: 1; min-width: 0; }
        .bgm-bar-title { font-size: 12px; color: #c9a84c; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .bgm-bar-sub { font-size: 10px; color: #6a6050; margin-top: 2px; }
        .bgm-bar-btn { width: 32px; height: 32px; border-radius: 50%; border: 1px solid #c9a84c66; background: transparent; color: #c9a84c; font-size: 12px; cursor: pointer; display: flex; align-items: center; justify-content: center; flex-shrink: 0; }

        /* í‘¸í„° */
        .footer { margin-top: 40px; padding-top: 24px; padding-bottom: 60px; }
        .footer-brand { font-family: 'Noto Serif KR', serif; font-size: 12px; color: #5a5040; letter-spacing: 2px; }
        .footer-sub { font-size: 11px; color: #3a3530; margin-top: 4px; }

        /* PDF ì˜¤ë²„ë ˆì´ */
        .pdf-overlay { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 9999; background: #0a0a14; flex-direction: column; }
        .pdf-overlay.open { display: flex; }
        .pdf-overlay-header { display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; background: #0f0f1a; border-bottom: 1px solid #c9a84c33; flex-shrink: 0; }
        .pdf-overlay-title { font-size: 14px; color: #c9a84c; font-weight: 500; letter-spacing: 1px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; flex: 1; margin-right: 12px; }
        .pdf-overlay-actions { display: flex; gap: 8px; flex-shrink: 0; }
        .pdf-overlay-btn { padding: 6px 14px; border: 1px solid #c9a84c44; border-radius: 20px; background: transparent; color: #8a7a5a; font-size: 12px; cursor: pointer; text-decoration: none; transition: all 0.2s; display: inline-flex; align-items: center; gap: 4px; font-family: 'Noto Sans KR', sans-serif; }
        .pdf-overlay-btn:hover { color: #c9a84c; border-color: #c9a84c66; }
        .pdf-overlay-close { width: 36px; height: 36px; border: 1px solid #c9a84c44; border-radius: 50%; background: transparent; color: #c9a84c; font-size: 20px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s; flex-shrink: 0; }
        .pdf-overlay-close:hover { background: #c9a84c22; border-color: #c9a84c; }
        .pdf-overlay-body { flex: 1; overflow: hidden; }
        .pdf-overlay-frame { width: 100%; height: 100%; border: none; background: #1a1a2e; }
        .pdf-overlay-loading { display: flex; align-items: center; justify-content: center; height: 100%; color: #8a7a5a; font-size: 14px; flex-direction: column; gap: 16px; }
        .pdf-overlay-loading .spinner { width: 32px; height: 32px; border: 2px solid #c9a84c33; border-top: 2px solid #c9a84c; border-radius: 50%; animation: spin 1s linear infinite; }
    </style>
</head>
<body>
    <div class="container">
        <div class="loading" id="loading"><div class="spinner"></div><p>ë³´ì¦ì„œë¥¼ ë¶ˆëŸ¬ì˜¤ê³  ìˆìŠµë‹ˆë‹¤...</p></div>
        <div class="error" id="error"><h2>ë³´ì¦ì„œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</h2><p>ë§í¬ë¥¼ ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”</p></div>

        <!-- ì§„ì… í™”ë©´ -->
        <div class="intro" id="intro">
            <div class="intro-bg">
                <div class="intro-glow"></div>
                <div class="intro-particles">
                    <div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div>
                    <div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div>
                </div>
            </div>
            <div class="intro-content">
                <div class="intro-line"></div>
                <div class="intro-brand">ë‚˜ë¥¼ì½ë‹¤</div>
                <div class="intro-symbol">â—†</div>
                <div class="intro-title" id="introTitle">ìš´ëª… ë¶„ì„ì´ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤</div>
                <div class="intro-sore" id="introSore"></div>
                <button class="intro-btn" id="introBtn" onclick="enterCertificate()">ë³´ì¦ì„œ í™•ì¸í•˜ê¸°</button>
                <div class="intro-line-bottom"></div>
            </div>
        </div>

        <!-- ë³´ì¦ì„œ -->
        <div class="certificate" id="certificate">
            <div class="top-ornament"><div class="line"></div><div class="diamond">â—†</div><div class="line"></div></div>
            <div class="brand">ë‚˜ë¥¼ì½ë‹¤</div>
            <div class="cert-title" id="certTitle">ìš´ ëª… ê³µ ëª… ë³´ ì¦ ì„œ</div>
            <div class="client-name" id="clientName"></div>
            <div class="name-divider" id="nameDivider"><div class="line"></div><div class="and">&</div><div class="line"></div></div>
            <div class="client-name-sub" id="clientName2"></div>
            <div class="honorific" id="honorific">ë‹˜ì˜ ìš´ëª… ë¶„ì„ì´ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤</div>
            <div class="product-tag" id="productTag"></div>
            <div class="divider"></div>
            <div class="message" id="message">ê·€í•˜ì˜ ì‚¬ì£¼ ì˜¤í–‰ê³¼ MBTI ì‹¬ë¦¬ ìœ í˜•ì„<br>ë¶„ì„í•˜ì—¬ ì¡°ìœ¨ëœ ë§ì¶¤í˜• ì†”ë£¨ì…˜ì…ë‹ˆë‹¤</div>
            <div class="buttons" id="buttons">
                <div class="btn-item">
                    <div class="btn" id="btnPdf" onclick="openPdfViewer()"><span class="icon">ğŸ“œ</span><span id="btnPdfText">ì‚¬ì£¼ ë¶„ì„ ë¦¬í¬íŠ¸</span></div>
                </div>
                <div class="btn-item">
                    <div class="btn" id="btnTheme" onclick="togglePlayer('theme')"><span class="icon">ğŸµ</span><span id="btnThemeText">ë§ì¶¤í˜• ìŒì›</span></div>
                    <div class="player-wrap" id="playerTheme">
                        <div class="player-loading" id="themeLoading"><span class="mini-spinner"></span>ìŒì›ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
                        <div class="player-visual"><div class="player-icon-wrap">ğŸµ</div><div class="player-info"><div class="player-subtitle" id="themeSubtitle">ë‹¹ì‹ ë§Œì„ ìœ„í•œ ìŒì›</div><div class="player-title" id="themeTitle">ë§ì¶¤í˜• ìŒì›</div></div></div>
                        <div class="player-controls"><button class="player-play-btn" id="themePlayBtn" onclick="playPause('theme')">â–¶</button><div class="player-progress-wrap"><input type="range" class="player-progress" id="themeProgress" min="0" max="100" value="0" oninput="seek('theme')"><div class="player-time"><span id="themeCurrent">0:00</span><span id="themeDuration">0:00</span></div></div></div>
                        <div class="player-desc" id="themeDesc"></div>
                        <div class="player-bottom"><a href="#" class="player-download" id="themeDownload" target="_blank">â¬‡ ë‹¤ìš´ë¡œë“œ</a></div>
                    </div>
                </div>
                <div class="btn-item">
                    <div class="btn" id="btnVoice" onclick="togglePlayer('voice')"><span class="icon">ğŸ§</span><span id="btnVoiceText">ìŒì„± í•´ì„¤</span></div>
                    <div class="player-wrap" id="playerVoice">
                        <div class="player-loading" id="voiceLoading"><span class="mini-spinner"></span>ìŒì›ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
                        <div class="player-visual"><div class="player-icon-wrap">ğŸ§</div><div class="player-info"><div class="player-subtitle" id="voiceSubtitle">ë‹¹ì‹ ë§Œì„ ìœ„í•œ í•´ì„¤</div><div class="player-title" id="voiceTitle">ìŒì„± í•´ì„¤</div></div></div>
                        <div class="player-controls"><button class="player-play-btn" id="voicePlayBtn" onclick="playPause('voice')">â–¶</button><div class="player-progress-wrap"><input type="range" class="player-progress" id="voiceProgress" min="0" max="100" value="0" oninput="seek('voice')"><div class="player-time"><span id="voiceCurrent">0:00</span><span id="voiceDuration">0:00</span></div></div></div>
                        <div class="player-desc" id="voiceDesc"></div>
                        <div class="player-bottom"><a href="#" class="player-download" id="voiceDownload" target="_blank">â¬‡ ë‹¤ìš´ë¡œë“œ</a></div>
                    </div>
                </div>
                <div class="btn-item">
                    <div class="btn" id="btnHealing" onclick="togglePlayer('healing')"><span class="icon">ğŸ¶</span><span id="btnHealingText">íë§ìŒì•…</span></div>
                    <div class="player-wrap" id="playerHealing">
                        <div class="player-loading" id="healingLoading"><span class="mini-spinner"></span>ìŒì›ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
                        <div class="player-visual"><div class="player-icon-wrap">ğŸ¶</div><div class="player-info"><div class="player-subtitle" id="healingSubtitle">ë‹¹ì‹ ë§Œì„ ìœ„í•œ ìŒì•…</div><div class="player-title" id="healingTitle">íë§ìŒì•…</div></div></div>
                        <div class="player-controls"><button class="player-play-btn" id="healingPlayBtn" onclick="playPause('healing')">â–¶</button><div class="player-progress-wrap"><input type="range" class="player-progress" id="healingProgress" min="0" max="100" value="0" oninput="seek('healing')"><div class="player-time"><span id="healingCurrent">0:00</span><span id="healingDuration">0:00</span></div></div></div>
                        <div class="player-desc" id="healingDesc"></div>
                        <div class="player-bottom"><a href="#" class="player-download" id="healingDownload" target="_blank">â¬‡ ë‹¤ìš´ë¡œë“œ</a></div>
                    </div>
                </div>
            </div>
            <div class="footer"><div class="divider"></div><div class="footer-brand">ë‚˜ë¥¼ì½ë‹¤ ì—°êµ¬ì†Œ</div><div class="footer-sub">ì‚¬ì£¼ & MBTI ìš´ëª… ë¶„ì„</div></div>
        </div>
    </div>

    <!-- ë°°ê²½ìŒì•… ë°” -->
    <div class="bgm-bar" id="bgmBar">
        <button class="bgm-bar-btn" id="bgmBtn" onclick="toggleBgm()">â¸</button>
        <div class="bgm-bar-info"><div class="bgm-bar-title" id="bgmTitle">â™ª ë§ì¶¤í˜• ìŒì›</div><div class="bgm-bar-sub" id="bgmSub">ë°°ê²½ìŒì•… ì¬ìƒ ì¤‘</div></div>
    </div>

    <!-- PDF ì˜¤ë²„ë ˆì´ -->
    <div class="pdf-overlay" id="pdfOverlay">
        <div class="pdf-overlay-header">
            <div class="pdf-overlay-title" id="pdfOverlayTitle">ğŸ“œ ì‚¬ì£¼ ë¶„ì„ ë¦¬í¬íŠ¸</div>
            <div class="pdf-overlay-actions">
                <a href="#" class="pdf-overlay-btn" id="pdfOverlayDownload" target="_blank">â¬‡</a>
                <button class="pdf-overlay-close" onclick="closePdfViewer()">âœ•</button>
            </div>
        </div>
        <div class="pdf-overlay-body">
            <div class="pdf-overlay-loading" id="pdfOverlayLoading"><div class="spinner"></div><span>ë¦¬í¬íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</span></div>
            <iframe class="pdf-overlay-frame" id="pdfOverlayFrame" src="" style="display:none;"></iframe>
        </div>
    </div>

    <script>
        var PROXY_URL = 'https://script.google.com/macros/s/AKfycbwmOwIYOV-dTqynZDAAYnJwWW9wOZubnpTducblAZOuPNUT36-q3r6LORlmZiqAyS0g/exec';

        var urlParams = new URLSearchParams(window.location.search);
        var code = urlParams.get('c');
        if (!code) { showError(); } else { loadCertificate(code); }

        /* â”€â”€ ìœ í‹¸ â”€â”€ */
        function extractFileId(url) {
            if (!url) return null;
            var m = url.match(/\/d\/([a-zA-Z0-9_-]+)/);
            if (m) return m[1];
            m = url.match(/id=([a-zA-Z0-9_-]+)/);
            if (m) return m[1];
            return null;
        }

        function toViewLink(url) {
            var id = extractFileId(url);
            if (!id) return url;
            return 'https://drive.google.com/file/d/' + id + '/view';
        }

        function buildPdfUrls(rawUrl) {
            if (!rawUrl) return { embed: '', download: '' };
            var fileId = extractFileId(rawUrl);
            if (!fileId) return { embed: rawUrl, download: rawUrl };
            if (rawUrl.indexOf('docs.google.com/document') !== -1) {
                return {
                    embed: 'https://docs.google.com/document/d/' + fileId + '/preview',
                    download: 'https://docs.google.com/document/d/' + fileId + '/export?format=pdf'
                };
            }
            return {
                embed: 'https://drive.google.com/file/d/' + fileId + '/preview',
                download: 'https://drive.google.com/uc?export=download&id=' + fileId
            };
        }

        function formatTime(sec) {
            if (!sec || isNaN(sec)) return '0:00';
            var m = Math.floor(sec / 60);
            var s = Math.floor(sec % 60);
            return m + ':' + (s < 10 ? '0' : '') + s;
        }

        /* â”€â”€ ìƒíƒœ â”€â”€ */
        var pdfViewerData = { embedUrl: '', downloadUrl: '', title: '' };
        var audioPlayers = {};
        var audioLoaded = {};
        var audioFileIds = {};
        var playerIntervals = {};
        var bgmType = null;
        var bgmPreloaded = false;
        var certData = {};

        /* â”€â”€ ë°ì´í„° ë¡œë“œ (API ë°©ì‹) â”€â”€ */
        async function loadCertificate(code) {
            try {
                var response = await fetch(PROXY_URL + '?cert=' + encodeURIComponent(code));
                var d = await response.json();

                if (d.error) { showError(); return; }

                certData = {
                    name:        d.name || '',
                    name2:       d.name2 || '',
                    product:     d.product || '',
                    pdfLink:     d.pdfLink || '',
                    pdfName:     d.pdfName || '',
                    themeLink:   d.themeLink || '',
                    themeName:   d.themeName || '',
                    voiceLink:   d.voiceLink || '',
                    voiceName:   d.voiceName || '',
                    healingLink: d.healingLink || '',
                    healingName: d.healingName || '',
                    soreLine:    (d.soreLine || '').trim(),
                    themeDesc:   (d.themeDesc || '').trim(),
                    voiceDesc:   (d.voiceDesc || '').trim(),
                    healingDesc: (d.healingDesc || '').trim()
                };

                var isCouple = certData.product.indexOf('ìš°ë¦¬') !== -1;
                var nameText = certData.name;
                if (isCouple && certData.name2) nameText += ' & ' + certData.name2;
                document.getElementById('introTitle').textContent =
                    nameText + 'ë‹˜ì˜ ' + (isCouple ? 'ê¶í•©' : 'ìš´ëª…') + ' ë¶„ì„ì´ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤';
                if (certData.soreLine) {
                    document.getElementById('introSore').innerHTML =
                        '"' + certData.soreLine.replace(/\//g, '<br>') + '"';
                }
                document.getElementById('loading').style.display = 'none';
                document.getElementById('intro').style.display = 'flex';

                /* BGM í”„ë¦¬ë¡œë“œ */
                if (certData.themeLink) {
                    var themeFileId = extractFileId(certData.themeLink);
                    if (themeFileId) {
                        audioFileIds['theme'] = themeFileId;
                        preloadBgm(themeFileId);
                    }
                }
            } catch (e) {
                console.error('loadCertificate error:', e);
                showError();
            }
        }

        /* â”€â”€ BGM ë¯¸ë¦¬ ë¡œë”© â”€â”€ */
        function preloadBgm(fileId) {
            fetch(PROXY_URL + '?id=' + fileId)
                .then(function(r) { return r.json(); })
                .then(function(data) {
                    if (data.error) { console.error('BGM preload error:', data.error); return; }
                    var audio = new Audio();
                    audio.src = data.uri;
                    audio.volume = 0;
                    audio.preload = 'auto';
                    audioPlayers['theme'] = audio;
                    audioLoaded['theme'] = true;
                    bgmPreloaded = true;
                    audio.addEventListener('loadedmetadata', function() {
                        document.getElementById('themeDuration').textContent = formatTime(audio.duration);
                    });
                    audio.addEventListener('ended', function() {
                        document.getElementById('bgmBar').classList.remove('active');
                        document.getElementById('themePlayBtn').textContent = 'â–¶';
                        document.getElementById('btnTheme').classList.remove('playing');
                        bgmType = null;
                    });
                })
                .catch(function(err) { console.error('BGM preload fetch error:', err); });
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         *  ì§„ì… ì—°ì¶œ â€” BGM autoplay ìˆ˜ì • (v5.3)
         *
         *  í•µì‹¬: ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì•ˆì—ì„œ ì¦‰ì‹œ audio.play()ë¥¼
         *  í˜¸ì¶œí•´ì•¼ ë¸Œë¼ìš°ì € autoplay ì •ì±…ì„ í†µê³¼í•©ë‹ˆë‹¤.
         *  setTimeout ì•ˆì—ì„œ í˜¸ì¶œí•˜ë©´ "ì‚¬ìš©ì ì œìŠ¤ì²˜ ì»¨í…ìŠ¤íŠ¸"ê°€
         *  ë§Œë£Œë˜ì–´ ì°¨ë‹¨ë©ë‹ˆë‹¤.
         * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        function enterCertificate() {
            var intro = document.getElementById('intro');
            var cert  = document.getElementById('certificate');
            var d     = certData;
            var isCouple    = d.product.indexOf('ìš°ë¦¬') !== -1;
            var subtitleText = isCouple ? 'ë‘ ë¶„ì„ ìœ„í•œ' : 'ë‹¹ì‹ ë§Œì„ ìœ„í•œ';

            /* â˜… í´ë¦­ ì§í›„ ì¦‰ì‹œ BGM play ì‹œë„ (ì‚¬ìš©ì ì œìŠ¤ì²˜ ì»¨í…ìŠ¤íŠ¸) */
            var bgmAttempted = false;
            if (bgmPreloaded && audioPlayers['theme']) {
                tryStartBgm();
                bgmAttempted = true;
            } else if (audioPlayers['theme']) {
                /* í”„ë¦¬ë¡œë“œ ì§„í–‰ ì¤‘ â€” ì¼ë‹¨ play()ë¡œ ì˜¤ë””ì˜¤ "ì–¸ë½" */
                audioPlayers['theme'].play().then(function() {
                    audioPlayers['theme'].pause();
                    audioPlayers['theme'].currentTime = 0;
                }).catch(function() {});
            }

            /* ë³´ì¦ì„œ ë°ì´í„° ì„¸íŒ… */
            document.getElementById('clientName').textContent = d.name;
            document.getElementById('productTag').textContent = d.product;
            if (isCouple && d.name2) {
                document.getElementById('nameDivider').style.display = 'flex';
                document.getElementById('clientName2').style.display = 'block';
                document.getElementById('clientName2').textContent = d.name2;
            }
            if (isCouple) {
                document.getElementById('certTitle').textContent = 'ìš´ ëª… ê¶ í•© ë³´ ì¦ ì„œ';
                document.getElementById('honorific').textContent = 'ë‹˜ì˜ ê¶í•© ë¶„ì„ì´ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤';
                document.getElementById('message').innerHTML =
                    'ë‘ ë¶„ì˜ ì‚¬ì£¼ ì˜¤í–‰ê³¼ MBTI ì‹¬ë¦¬ ìœ í˜•ì„<br>ë¶„ì„í•˜ì—¬ ì¡°ìœ¨ëœ ë§ì¶¤í˜• ì†”ë£¨ì…˜ì…ë‹ˆë‹¤';
            }
            if (d.soreLine) {
                document.getElementById('message').innerHTML =
                    '<span class="sore-line">"' + d.soreLine.replace(/\//g, '<br>') + '"</span>';
            }
            if (d.pdfLink) {
                var pdfUrls = buildPdfUrls(d.pdfLink);
                pdfViewerData.embedUrl    = pdfUrls.embed;
                pdfViewerData.downloadUrl = pdfUrls.download;
                pdfViewerData.title       = d.pdfName || 'ì‚¬ì£¼ ë¶„ì„ ë¦¬í¬íŠ¸';
                document.getElementById('btnPdf').classList.add('active');
                if (d.pdfName) document.getElementById('btnPdfText').textContent = d.pdfName;
            }
            if (d.themeLink) {
                document.getElementById('btnTheme').classList.add('active');
                if (d.themeName) document.getElementById('btnThemeText').textContent = d.themeName;
                document.getElementById('themeTitle').textContent    = d.themeName || 'ë§ì¶¤í˜• ìŒì›';
                document.getElementById('themeSubtitle').textContent = subtitleText + ' ìŒì›';
                document.getElementById('themeDownload').href        = toViewLink(d.themeLink);
                audioFileIds['theme'] = extractFileId(d.themeLink);
                if (d.themeDesc) {
                    document.getElementById('themeDesc').textContent   = d.themeDesc;
                    document.getElementById('themeDesc').style.display = 'block';
                }
            }
            if (d.voiceLink) {
                document.getElementById('btnVoice').classList.add('active');
                if (d.voiceName) document.getElementById('btnVoiceText').textContent = d.voiceName;
                document.getElementById('voiceTitle').textContent    = d.voiceName || 'ìŒì„± í•´ì„¤';
                document.getElementById('voiceSubtitle').textContent = subtitleText + ' í•´ì„¤';
                document.getElementById('voiceDownload').href        = toViewLink(d.voiceLink);
                audioFileIds['voice'] = extractFileId(d.voiceLink);
                if (d.voiceDesc) {
                    document.getElementById('voiceDesc').textContent   = d.voiceDesc;
                    document.getElementById('voiceDesc').style.display = 'block';
                }
            }
            if (d.healingLink) {
                document.getElementById('btnHealing').classList.add('active');
                if (d.healingName) document.getElementById('btnHealingText').textContent = d.healingName;
                document.getElementById('healingTitle').textContent    = d.healingName || 'íë§ìŒì•…';
                document.getElementById('healingSubtitle').textContent = subtitleText + ' ìŒì•…';
                document.getElementById('healingDownload').href        = toViewLink(d.healingLink);
                audioFileIds['healing'] = extractFileId(d.healingLink);
                if (d.healingDesc) {
                    document.getElementById('healingDesc').textContent   = d.healingDesc;
                    document.getElementById('healingDesc').style.display = 'block';
                }
            }

            /* í™”ë©´ ì „í™˜ */
            intro.classList.add('fade-out');
            setTimeout(function() {
                intro.style.display = 'none';
                cert.style.display  = 'block';
                cert.classList.add('fade-in');

                /* í”„ë¦¬ë¡œë“œ ì™„ë£Œ ì „ì— í´ë¦­í•œ ê²½ìš°: ì™„ë£Œë  ë•Œê¹Œì§€ ëŒ€ê¸° í›„ ì¬ìƒ */
                if (!bgmAttempted && audioFileIds['theme']) {
                    if (bgmPreloaded && audioPlayers['theme']) {
                        tryStartBgm();
                    } else {
                        var waitBgm = setInterval(function() {
                            if (bgmPreloaded && audioPlayers['theme']) {
                                clearInterval(waitBgm);
                                tryStartBgm();
                            }
                        }, 500);
                        setTimeout(function() { clearInterval(waitBgm); }, 15000);
                    }
                }
            }, 1000);
        }

        /* â”€â”€ BGM ì¬ìƒ ì‹œë„ (ì„±ê³µ/ì°¨ë‹¨ ëª¨ë‘ ì²˜ë¦¬) â”€â”€ */
        function tryStartBgm() {
            var audio = audioPlayers['theme'];
            if (!audio) return;
            bgmType = 'theme';

            audio.play().then(function() {
                /* ì¬ìƒ ì„±ê³µ â†’ í˜ì´ë“œì¸ */
                var vol = 0;
                var fadeIn = setInterval(function() {
                    vol += 0.05;
                    if (vol >= 1) { vol = 1; clearInterval(fadeIn); }
                    audio.volume = vol;
                }, 100);
                document.getElementById('bgmBar').classList.add('active');
                document.getElementById('bgmTitle').textContent = 'â™ª ' + (certData.themeName || 'ë§ì¶¤í˜• ìŒì›');
                document.getElementById('bgmBtn').textContent   = 'â¸';
                document.getElementById('bgmSub').textContent    = 'ë°°ê²½ìŒì•… ì¬ìƒ ì¤‘';
                document.getElementById('themePlayBtn').textContent = 'â¸';
                document.getElementById('btnTheme').classList.add('playing');
                startProgress('theme');
            }).catch(function(err) {
                /* autoplay ì°¨ë‹¨ â†’ BGM ë°”ì— ì•ˆë‚´ í‘œì‹œ */
                console.warn('BGM autoplay blocked:', err);
                document.getElementById('bgmBar').classList.add('active');
                document.getElementById('bgmTitle').textContent = 'â™ª ' + (certData.themeName || 'ë§ì¶¤í˜• ìŒì›');
                document.getElementById('bgmBtn').textContent   = 'â–¶';
                document.getElementById('bgmSub').textContent    = 'í„°ì¹˜í•˜ì—¬ ì¬ìƒ';
            });
        }

        /* â”€â”€ BGM í† ê¸€ â”€â”€ */
        function toggleBgm() {
            /* autoplay ì°¨ë‹¨ í›„ ë°”ë¥¼ ëˆŒë €ì„ ë•Œ */
            if (!bgmType && audioPlayers['theme'] && audioLoaded['theme']) {
                bgmType = 'theme';
            }
            if (!bgmType || !audioPlayers[bgmType]) return;

            var audio = audioPlayers[bgmType];
            if (audio.paused) {
                audio.volume = 1;
                audio.play().catch(function() {});
                document.getElementById('bgmBtn').textContent = 'â¸';
                document.getElementById('bgmSub').textContent  = 'ë°°ê²½ìŒì•… ì¬ìƒ ì¤‘';
                document.getElementById(bgmType + 'PlayBtn').textContent = 'â¸';
                document.getElementById('btn' + bgmType.charAt(0).toUpperCase() + bgmType.slice(1)).classList.add('playing');
                startProgress(bgmType);
            } else {
                audio.pause();
                document.getElementById('bgmBtn').textContent = 'â–¶';
                document.getElementById(bgmType + 'PlayBtn').textContent = 'â–¶';
                document.getElementById('btn' + bgmType.charAt(0).toUpperCase() + bgmType.slice(1)).classList.remove('playing');
            }
        }

        /* â”€â”€ PDF ë·°ì–´ â”€â”€ */
        function openPdfViewer() {
            if (!pdfViewerData.embedUrl) return;
            var overlay = document.getElementById('pdfOverlay');
            var frame   = document.getElementById('pdfOverlayFrame');
            var loading = document.getElementById('pdfOverlayLoading');
            document.getElementById('pdfOverlayTitle').textContent = 'ğŸ“œ ' + pdfViewerData.title;
            document.getElementById('pdfOverlayDownload').href     = pdfViewerData.downloadUrl;
            loading.style.display = 'flex';
            frame.style.display   = 'none';
            overlay.classList.add('open');
            document.body.style.overflow = 'hidden';
            frame.onload = function() { loading.style.display = 'none'; frame.style.display = 'block'; };
            frame.src = pdfViewerData.embedUrl;
        }

        function closePdfViewer() {
            document.getElementById('pdfOverlay').classList.remove('open');
            document.body.style.overflow = '';
            document.getElementById('pdfOverlayFrame').src = '';
        }

        /* â”€â”€ í”Œë ˆì´ì–´ í† ê¸€ â”€â”€ */
        function togglePlayer(type) {
            var wrap = document.getElementById('player' + type.charAt(0).toUpperCase() + type.slice(1));
            var btn  = document.getElementById('btn'    + type.charAt(0).toUpperCase() + type.slice(1));
            var isOpen = wrap.classList.contains('open');
            ['theme', 'voice', 'healing'].forEach(function(t) {
                if (t !== type) {
                    var w = document.getElementById('player' + t.charAt(0).toUpperCase() + t.slice(1));
                    var b = document.getElementById('btn'    + t.charAt(0).toUpperCase() + t.slice(1));
                    if (w) w.classList.remove('open');
                    if (b) b.classList.remove('expanded');
                }
            });
            if (isOpen) {
                wrap.classList.remove('open');
                btn.classList.remove('expanded');
            } else {
                wrap.classList.add('open');
                btn.classList.add('expanded');
            }
        }

        /* â”€â”€ ë¡œë“œ í›„ ì¬ìƒ â”€â”€ */
        function loadAndPlay(type) {
            if (audioLoaded[type]) { playPause(type); return; }
            var fileId = audioFileIds[type];
            if (!fileId) return;

            var loadingEl = document.getElementById(type + 'Loading');
            if (loadingEl) loadingEl.style.display = 'block';

            /* ë‹¤ë¥¸ íŠ¸ë™ ì •ì§€ */
            ['theme', 'voice', 'healing'].forEach(function(t) {
                if (t !== type && audioPlayers[t] && !audioPlayers[t].paused) {
                    audioPlayers[t].pause();
                    document.getElementById(t + 'PlayBtn').textContent = 'â–¶';
                    document.getElementById('btn' + t.charAt(0).toUpperCase() + t.slice(1)).classList.remove('playing');
                }
            });

            fetch(PROXY_URL + '?id=' + fileId)
                .then(function(r) { return r.json(); })
                .then(function(data) {
                    if (loadingEl) loadingEl.style.display = 'none';
                    if (data.error) { console.error('Proxy error:', data.error); return; }
                    var audio = new Audio();
                    audio.src = data.uri;
                    audioPlayers[type] = audio;
                    audioLoaded[type]  = true;
                    audio.addEventListener('loadedmetadata', function() {
                        document.getElementById(type + 'Duration').textContent = formatTime(audio.duration);
                    });
                    audio.addEventListener('ended', function() {
                        document.getElementById(type + 'PlayBtn').textContent = 'â–¶';
                        document.getElementById('btn' + type.charAt(0).toUpperCase() + type.slice(1)).classList.remove('playing');
                        if (bgmType === type) {
                            document.getElementById('bgmBar').classList.remove('active');
                            bgmType = null;
                        }
                        if (playerIntervals[type]) clearInterval(playerIntervals[type]);
                    });
                    audio.play().catch(function(err) { console.warn('play error:', err); });
                    document.getElementById(type + 'PlayBtn').textContent = 'â¸';
                    document.getElementById('btn' + type.charAt(0).toUpperCase() + type.slice(1)).classList.add('playing');
                    startProgress(type);

                    if (type === 'theme') {
                        bgmType = 'theme';
                        document.getElementById('bgmBar').classList.add('active');
                        document.getElementById('bgmTitle').textContent = 'â™ª ' + (certData.themeName || 'ë§ì¶¤í˜• ìŒì›');
                        document.getElementById('bgmBtn').textContent   = 'â¸';
                        document.getElementById('bgmSub').textContent    = 'ë°°ê²½ìŒì•… ì¬ìƒ ì¤‘';
                    }
                })
                .catch(function(err) {
                    if (loadingEl) loadingEl.style.display = 'none';
                    console.error('Fetch error:', err);
                });
        }

        /* â”€â”€ ì¬ìƒ/ì •ì§€ â”€â”€ */
        function playPause(type) {
            var audio = audioPlayers[type];
            if (!audio || !audioLoaded[type]) { loadAndPlay(type); return; }

            var playBtn = document.getElementById(type + 'PlayBtn');
            var btn     = document.getElementById('btn' + type.charAt(0).toUpperCase() + type.slice(1));

            if (audio.paused) {
                /* ë‹¤ë¥¸ íŠ¸ë™ ì •ì§€ */
                ['theme', 'voice', 'healing'].forEach(function(t) {
                    if (t !== type && audioPlayers[t] && !audioPlayers[t].paused) {
                        audioPlayers[t].pause();
                        document.getElementById(t + 'PlayBtn').textContent = 'â–¶';
                        document.getElementById('btn' + t.charAt(0).toUpperCase() + t.slice(1)).classList.remove('playing');
                    }
                });
                audio.play().catch(function(err) { console.warn('play error:', err); });
                playBtn.textContent = 'â¸';
                btn.classList.add('playing');
                startProgress(type);
                if (type === 'theme') {
                    bgmType = 'theme';
                    document.getElementById('bgmBar').classList.add('active');
                    document.getElementById('bgmBtn').textContent = 'â¸';
                    document.getElementById('bgmSub').textContent  = 'ë°°ê²½ìŒì•… ì¬ìƒ ì¤‘';
                }
            } else {
                audio.pause();
                playBtn.textContent = 'â–¶';
                btn.classList.remove('playing');
                if (bgmType === type) {
                    document.getElementById('bgmBtn').textContent = 'â–¶';
                }
            }
        }

        /* â”€â”€ ì‹œí¬ â”€â”€ */
        function seek(type) {
            var audio    = audioPlayers[type];
            var progress = document.getElementById(type + 'Progress');
            if (audio && audio.duration) {
                audio.currentTime = (progress.value / 100) * audio.duration;
            }
        }

        /* â”€â”€ í”„ë¡œê·¸ë ˆìŠ¤ ë°” ì—…ë°ì´íŠ¸ â”€â”€ */
        function startProgress(type) {
            if (playerIntervals[type]) clearInterval(playerIntervals[type]);
            playerIntervals[type] = setInterval(function() {
                var audio    = audioPlayers[type];
                if (!audio) return;
                var progress = document.getElementById(type + 'Progress');
                var current  = document.getElementById(type + 'Current');
                var duration = document.getElementById(type + 'Duration');
                if (audio.duration) {
                    var pct = (audio.currentTime / audio.duration) * 100;
                    progress.value = pct;
                    progress.style.background =
                        'linear-gradient(90deg, #c9a84c ' + pct + '%, #c9a84c22 ' + pct + '%)';
                    current.textContent  = formatTime(audio.currentTime);
                    duration.textContent = formatTime(audio.duration);
                }
                if (audio.ended) {
                    document.getElementById(type + 'PlayBtn').textContent = 'â–¶';
                    document.getElementById('btn' + type.charAt(0).toUpperCase() + type.slice(1)).classList.remove('playing');
                    clearInterval(playerIntervals[type]);
                }
            }, 250);
        }

        /* â”€â”€ ì—ëŸ¬ í‘œì‹œ â”€â”€ */
        function showError() {
            document.getElementById('loading').style.display = 'none';
            document.getElementById('error').style.display   = 'flex';
        }
    </script>
</body>
</html>
